# go-fibonacci-api

Сервис, возвращающий срез последовательности чисел из ряда Фибоначчи. 

Сервис принимает в качестве запроса диапазон значений, состоящий из двух аргументов x и y. 
В качестве ответа возвращает все числа последовательности Фибоначчи с порядковыми номерами в диапазоне от x до y.

В сервисе реализованы HTTP REST и GRPC протоколы.

Скачать исходный код и протестировать можно по инструкции ниже.

## Установка и подготовка к запуску:
1. Создать локальную папку с любым названием
2. Инициализировать в ней пустой репозиторий:
```git init``` 
4. Создать клон удаленного репозитория: 
```git clone https://github.com/elli56/go-fibonacci-api.git```

5. Зайти в папку с приложением: 
```cd go-fibonacci-api/```

6. Экспортировать PATH для работы Go 
```export PATH=$PATH:/usr/local/go/bin```

## Запуск

Приложение имеет два протокола HTTP и  GRPC. 

### GRPC протокол
Здесь реализованы GRPC сервер для обработки запроса и клиент для отправки и получения.
Сервер и клиент можно запустить локально в двух терминалах. 

Для запуска GRPC сервера выполните команду:
```go run cmd/grpcserver/main.go```

Затем в этой же папке откройте новое окно терминала и запустите клиент:
```go run cmd/grpcclient/main.go -p 8080 -x 1 -y 10```

Вместе с командой с помощью флагов передаются аргументы для диапазона получения слайса Фибоначчи:
-p порт на котором работает сервер (по умолчанию :8080)
-x начало диапазона 
-y конец диапазона
флаг -p является необязательным.

Ответ приходит в виде хэш таблицы где ключ - порядковый номер а значение - соответствующее ему число ряда Фибоначчи



### HTTP протокол
В приложении реализован сервер, принимающий запросы в рамках HTTP протокола.
Передача аргументов производится методом POST в формате JSON 
Ответ так приходит в формате JSON.


###### Включение HTTP сервера производится командой:

```go run cmd/httpserver/main.go```

Сервер будет доступен по адресу:

```http://localhost:8000/api/fibonacci-calc```


###### Передача аргументов

Отправить запрос можно стандартной утилитой Linux Curl:

```curl -X POST -H "Content-Type: application/json" -d '{"x": 3, "y": 7}' http://localhost:8000/api/fibonacci-calc```

Или с помощью Postman:

Необходимо указать метод обработки запроса POST, а в теле запроса создать JSON с параметрами диапазона

```
{ 
  "x": 3, 
  "y": 40 
}
```



